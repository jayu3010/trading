{"version":3,"sources":["views/bids/CompletedBids.jsx"],"names":["tableData","column","useStyles","makeStyles","theme","actionsContainer","display","alignItems","justifyContent","CompletedBids","classes","useAxios","useState","loading","setLoading","bids","setBids","isUpdateTable","setIsUpdateTable","searches","setSearches","isSearch","setIsSearch","deleteData","setDeleteData","useEffect","bidName","totalAmount","declarationDate","users","console","log","_id","handleDelete","index","data","map","i","id","format","Date","action","className","onClick","title","color","secondary","sx","onKeyUp","e","filter","b","toUpperCase","includes","target","value","label","size","length","p","m","bgcolor","borderRadius","setBanner"],"mappings":"8RAcIA,EAAY,GACVC,EAAS,CAAC,SAAU,WAAY,eAAgB,mBAAoB,QAAS,WAE7EC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,iBAAkB,CACdC,QAAS,OACTC,WAAY,SACZC,eAAgB,OAJK,IA+IdC,UAvIO,WAClB,IAAMC,EAAUR,IAEhB,GADcS,cACcC,oBAAS,IAArC,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA0CJ,oBAAS,GAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KACA,EAAwBN,oBAAS,GAAjC,mBACA,GADA,UACgCA,mBAAS,KAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAgCR,oBAAS,GAAzC,mBAAOS,EAAP,KAAiBC,EAAjB,KACA,EAAwCV,mBAAS,MAAjD,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBACA,GADA,UACoCA,oBAAS,IAA7C,mBAAOW,EAAP,KAAmBC,EAAnB,KAOAC,qBAAU,WAENX,GAAW,GACXE,EAAQ,CACJ,CACIU,QAAS,YACTC,YAAa,QACbC,gBAAiB,WACjBC,MAAO,OAWlB,GAAE,CAACZ,IAEJQ,qBAAU,WAENK,QAAQC,IAAIR,EAAWS,IAS1B,GAAE,CAACT,IAEJ,IAsBMU,EAAe,SAACC,GAClBV,EAAcT,EAAKmB,GACtB,EAEKC,EAAOd,EAAWF,EAAWJ,EACnCe,QAAQC,IAAII,EAAMd,GAqBlB,OAfArB,EAAS,OAAGmC,QAAH,IAAGA,OAAH,EAAGA,EAAMC,KAAI,SAACrB,EAAMsB,GAAP,MAAc,CAChCC,GAAID,EAAI,EACRX,QAAO,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAMW,QACfC,YAAW,OAAEZ,QAAF,IAAEA,OAAF,EAAEA,EAAMY,YACnBC,gBAAiBW,YAAO,IAAIC,KAAJ,UAAYzB,EAAKa,kBAAoB,cAC7DC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAMc,MACbY,OACI,qBAAKC,UAAWhC,EAAQL,iBAAxB,SACI,cAAC,IAAD,CAAYsC,QAAS,kBAAMV,EAAaI,EAAnB,EAArB,SACI,cAAC,IAAD,QATM,IAgBlB,mCACI,8BACI,cAAC,IAAD,CACIO,MAAO/B,EAAU,cAAC,IAAD,CAAkBgC,MAAM,cAAiB,iBAC1DC,UACI,cAAC,IAAD,CAAKC,GAAI,CAAEzC,QAAS,OAAQC,WAAY,UAAxC,SACI,cAAC,IAAD,CAAWyC,QAvDT,SAACC,GACvB3B,GAAY,GACZQ,QAAQC,IAAIhB,EAAM,QAClB,IAAMoB,EAAOpB,EAAKmC,QAAO,SAACC,GAAD,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAGzB,QAAQ0B,cAAcC,SAASJ,EAAEK,OAAOC,MAAMH,cAAxD,IACzBtB,QAAQC,IAAII,EAAM,QAClBf,EAAYe,GACW,KAAnBc,EAAEK,OAAOC,OAAcjC,GAAY,EAC1C,EAgD8DkC,MAAM,wBAAwBX,MAAM,YAAYY,KAAK,YAJxG,SAQK1C,EAAK2C,QAAU,EACZ,cAAC,IAAD,CACIX,GAAI,CACAzC,QAAS,OACTE,eAAgB,SAChBD,WAAY,SACZoD,EAAG,EACHC,EAAG,EACHC,QAAS,mBACTC,aAAc,GARtB,SAWI,cAAC,IAAD,CAAkBjB,MAAM,gBAG5B,cAAC,IAAD,CAAa5C,OAAQA,EAAQkC,KAAMnC,EAAW+D,UAAW/C,EAASE,iBAAkBA,SAM3G,C","file":"static/js/15.2becec7b.chunk.js","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport { useEffect, useState } from 'react';\nimport { Box, Button, CircularProgress, IconButton, Switch, FormControl, Select, MenuItem, TextField } from '@mui/material';\nimport { IconPlus, IconEdit, IconTrash } from '@tabler/icons';\nimport { format } from 'date-fns';\n\nimport config from 'config';\nimport MainCard from 'ui-component/cards/MainCard';\nimport SubCard from 'ui-component/cards/SubCard';\nimport CommonTable from 'ui-component/Table/CommonTable';\nimport DropDown from 'ui-component/Table/CustomDropDown';\nimport { makeStyles } from '@mui/styles';\nimport { useAxios } from 'hooks';\n\nlet tableData = [];\nconst column = ['Sl. No', 'Bid Name', 'Amount Taken', 'Declaration Date', 'Users', 'Actions'];\n\nconst useStyles = makeStyles((theme) => ({\n    actionsContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'end'\n    }\n}));\n\nconst CompletedBids = () => {\n    const classes = useStyles();\n    const axios = useAxios();\n    const [active, setActive] = useState(true);\n    const [loading, setLoading] = useState(true);\n    const [bids, setBids] = useState([]);\n    const [isUpdateTable, setIsUpdateTable] = useState(false);\n    const [open, setOpen] = useState(false);\n    const [searches, setSearches] = useState([]);\n    const [isSearch, setIsSearch] = useState(false);\n    const [previousData, setPreviousData] = useState(null);\n    const [checked, setChecked] = useState(false);\n    const [deleteData, setDeleteData] = useState(false);\n    const handleOpen = () => {\n        setPreviousData(null);\n        setOpen(true);\n    };\n    const handleClose = () => setOpen(false);\n\n    useEffect(() => {\n        // setLoading(true);\n        setLoading(false);\n        setBids([\n            {\n                bidName: 'Test Bids',\n                totalAmount: '50000',\n                declarationDate: '5/6/2022',\n                users: '50'\n            }\n        ]);\n\n        // axios\n        //     .get(`/customer`)\n        //     .then((response) => {\n        //         setLoading(false);\n        //         setBids(response.data.customerList);\n        //     })\n        //     .catch((err) => console.log(err));\n    }, [isUpdateTable]);\n\n    useEffect(() => {\n        /* eslint-disable no-underscore-dangle */\n        console.log(deleteData._id);\n        // axios\n        //     .delete(`/service/delete/${services[index]._id}`)\n        //     .then((response) => {\n        //         setLoading(false);\n        //         setServices(response.data.servicesList);\n        //         console.log(`Delete Successfully`);\n        //     })\n        //     .catch((err) => console.log(err));\n    }, [deleteData]);\n\n    const handleKeyUpSearch = (e) => {\n        setIsSearch(true);\n        console.log(bids, 'bids');\n        const data = bids.filter((b) => b?.bidName.toUpperCase().includes(e.target.value.toUpperCase()));\n        console.log(data, 'data');\n        setSearches(data);\n        if (e.target.value === '') setIsSearch(false);\n    };\n\n    const handleActive = (e) => {\n        let active = false;\n        if (e.target.value === 'active') active = true;\n\n        setActive(e.target.value);\n        setIsSearch(true);\n        // eslint-disable-next-line eqeqeq\n        const data = bids.filter((b) => active === b.active);\n        console.log(data, bids, e.target.value, 'data');\n        setSearches(data);\n        if (!e.target.value) setIsSearch(false);\n    };\n\n    const handleDelete = (index) => {\n        setDeleteData(bids[index]);\n    };\n\n    const data = isSearch ? searches : bids;\n    console.log(data, isSearch);\n\n    const handleActiveChange = (id, value) => {\n        console.log(id, value);\n    };\n\n    tableData = data?.map((bids, i) => ({\n        id: i + 1,\n        bidName: bids?.bidName,\n        totalAmount: bids?.totalAmount,\n        declarationDate: format(new Date(`${bids.declarationDate}`), 'yyyy-MM-dd'),\n        users: bids?.users,\n        action: (\n            <div className={classes.actionsContainer}>\n                <IconButton onClick={() => handleDelete(i)}>\n                    <IconTrash />\n                </IconButton>\n            </div>\n        )\n    }));\n\n    return (\n        <>\n            <div>\n                <SubCard\n                    title={loading ? <CircularProgress color=\"secondary\" /> : 'Completed Bids'}\n                    secondary={\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <TextField onKeyUp={handleKeyUpSearch} label=\"Search by Bid Name...\" color=\"secondary\" size=\"small\" />\n                        </Box>\n                    }\n                >\n                    {bids.length <= 0 ? (\n                        <Box\n                            sx={{\n                                display: 'flex',\n                                justifyContent: 'center',\n                                alignItems: 'center',\n                                p: 1,\n                                m: 1,\n                                bgcolor: 'background.paper',\n                                borderRadius: 1\n                            }}\n                        >\n                            <CircularProgress color=\"secondary\" />\n                        </Box>\n                    ) : (\n                        <CommonTable column={column} data={tableData} setBanner={setBids} setIsUpdateTable={setIsUpdateTable} />\n                    )}\n                </SubCard>\n            </div>\n        </>\n    );\n};\n\nexport default CompletedBids;\n"],"sourceRoot":""}